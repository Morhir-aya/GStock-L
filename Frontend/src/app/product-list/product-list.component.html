<app-navbar></app-navbar>
<br><br><br><br><br><br>
<h1 class="title">Products List</h1>
<br><br><br>
<!--
    <div class="alert alert-danger" role="alert"><strong>Info!</strong> Add row and Delete row are working. Edit row displays modal with row cells information.</div>
-->

<!--search bar-->
<div class="form-container">
    <form role="search">
      <button type="button" class="btn btn-success bdownload" (click)="exportToExcel()" ><i class="fa-solid fa-download"></i>&nbsp;&nbsp;Download List</button>
      <input class="form-control w-25 searchInput" id="searchKey" type="search"
             #searchkeyword
             (keyup)="searchByKeyword(searchkeyword.value)"
             placeholder="Search..."
             name="searchKey"
             autofocus required />
    </form>
  </div>

<!--search bar-->
<br>
<!--Product List-->
<table class="table table-striped table-bordered custom-table" style="border-radius: 20px;">
    <thead class="table-dark ">
        <tr style="text-align:center;">
            <th>ID</th>
            <th>Product Name</th>
            <th>Price</th>
            <th>Creation date</th>
            <th>Category</th>
            <th>Qr Code</th>

            <th style="text-align:center;width:100px;">Add &nbsp;
              <button type="button" class="badd" [routerLink]="['/addProduct']">
                    <i class="fa-solid fa-plus"></i>
                </button></th>
        </tr>
    </thead>
    <tbody class="table-group-divider" style="text-align:center;">
        <tr *ngFor="let product of products">
            <td>{{product.id}}</td>
            <td>{{product.name}}</td>
            <td>{{product.price}}</td>
            <td>{{product.dateCreate | date : "dd-MM-yyyy"}}</td>
            <td>{{product.category?.category}}</td>
          <td style="text-align:center;width:10px;">
            <div class="qrcode" *ngIf="product.qrCode">
              <qrcode [qrdata]="product.qrCode"></qrcode>
            </div>
            <div *ngIf="!product.qrCode">
              QR Code not available
            </div>
          </td>

            <td style="width: 11%;">
                <button class="bedit" type="button" [routerLink]="['/editProduct', product.id]">
                    <a style="text-decoration: none;" ><i
                            class="fa-regular fa-pen-to-square"></i></a>
                </button>&nbsp;
                <button class="bdelete" type="button" (click)="deleteProduct(product)">
                    <i class="fa-solid fa-eraser"></i>
                </button>&nbsp;
                <button class="bdetail" type="button" [routerLink]="['/infoProduct', product.id]">
                    <a style="text-decoration: none;"  ><i class="fa-solid fa-circle-info"></i></a>
                </button>
            </td>
        </tr>
    </tbody>
</table>
<!--Product List-->
<br><br><br><br><br><br><br><br><br><br>
<app-footer></app-footer>
